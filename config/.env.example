# Environment Configuration Example
# Copy this file to .env and update with your actual values

# Database Configuration
DB_TYPE=postgresdb
DB_POSTGRESDB_HOST=postgres-service
DB_POSTGRESDB_PORT=5432
DB_POSTGRESDB_DATABASE=n8n
DB_POSTGRESDB_USER=n8n
DB_POSTGRESDB_PASSWORD=ðŸ”‘SECURE_DB_PASSWORDðŸ”‘
DB_POSTGRESDB_SSL=false
DB_POSTGRESDB_SCHEMA=public

# Redis Configuration
QUEUE_BULL_REDIS_HOST=redis-service
QUEUE_BULL_REDIS_PORT=6379
QUEUE_BULL_REDIS_PASSWORD=ðŸ”‘SECURE_REDIS_PASSWORDðŸ”‘
QUEUE_BULL_REDIS_DB=0

# Server Configuration
N8N_HOST=0.0.0.0
N8N_PORT=5678
N8N_PROTOCOL=https
N8N_PATH=/

# Webhook Configuration
WEBHOOK_URL=https://n8n.example.com/
WEBHOOK_URL_SUFFIX=

# Security Configuration
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=ðŸ”‘ADMIN_USERNAMEðŸ”‘
N8N_BASIC_AUTH_PASSWORD=ðŸ”‘ADMIN_PASSWORDðŸ”‘
N8N_BASIC_AUTH_HASH=true

# JWT Authentication (Optional)
N8N_JWT_AUTH_ACTIVE=false
N8N_JWT_AUTH_HEADER=authorization
N8N_JWT_AUTH_HEADER_VALUE_PREFIX=Bearer 
N8N_JWKS_URI=ðŸ”‘JWKS_URIðŸ”‘
N8N_JWT_ISSUER=ðŸ”‘JWT_ISSUERðŸ”‘
N8N_JWT_NAMESPACE=ðŸ”‘JWT_NAMESPACEðŸ”‘

# Execution Configuration
EXECUTIONS_MODE=queue
EXECUTIONS_TIMEOUT=3600
EXECUTIONS_TIMEOUT_MAX=3600
EXECUTIONS_DATA_SAVE_ON_ERROR=all
EXECUTIONS_DATA_SAVE_ON_SUCCESS=all
EXECUTIONS_DATA_SAVE_MANUAL_EXECUTIONS=true
EXECUTIONS_DATA_PRUNE=true
EXECUTIONS_DATA_MAX_AGE=168
EXECUTIONS_DATA_PRUNE_TIMEOUT=3600

# Generic Configuration
GENERIC_TIMEZONE=UTC

# Logging Configuration
N8N_LOG_LEVEL=info
N8N_LOG_OUTPUT=console
N8N_LOG_FILE_LOCATION=/home/node/.n8n/logs/
N8N_LOG_FILE_SIZE_MAX=16
N8N_LOG_FILE_COUNT_MAX=100

# Metrics Configuration
N8N_METRICS=true
N8N_METRICS_PREFIX=n8n_

# User Management
N8N_USER_MANAGEMENT_DISABLED=false
N8N_USER_MANAGEMENT_JWT_SECRET=ðŸ”‘USER_JWT_SECRETðŸ”‘
N8N_USER_MANAGEMENT_JWT_DURATION_HOURS=168
N8N_USER_MANAGEMENT_JWT_REFRESH_TIMEOUT_HOURS=24

# Email Configuration
N8N_EMAIL_MODE=smtp
N8N_SMTP_HOST=ðŸ”‘SMTP_HOSTðŸ”‘
N8N_SMTP_PORT=587
N8N_SMTP_USER=ðŸ”‘SMTP_USERðŸ”‘
N8N_SMTP_PASS=ðŸ”‘SMTP_PASSWORDðŸ”‘
N8N_SMTP_SENDER=ðŸ”‘SMTP_SENDERðŸ”‘
N8N_SMTP_SSL=true

# External Secrets
N8N_EXTERNAL_SECRETS_PREFER_GET=true
N8N_EXTERNAL_SECRETS_UPDATE_INTERVAL=300

# Version Notifications
N8N_VERSION_NOTIFICATIONS_ENABLED=true

# Waiting Webhooks
N8N_WAITING_WEBHOOKS_MAX_WAIT_TIME=120

# Security Settings
N8N_AUTH_EXCLUDE_ENDPOINTS=healthz:metrics

# Workflow Settings
N8N_DEFAULT_NAME=My workflow
N8N_ONBOARDING_FLOW_DISABLED=false
N8N_WORKFLOW_CALLER_POLICY_DEFAULT_OPTION=workflowsFromSameOwner

# AWS Configuration (for Terraform)
AWS_REGION=us-west-2
AWS_ACCESS_KEY_ID=ðŸ”‘AWS_ACCESS_KEYðŸ”‘
AWS_SECRET_ACCESS_KEY=ðŸ”‘AWS_SECRET_KEYðŸ”‘

# Kubernetes Configuration
KUBECONFIG=/path/to/kubeconfig

# Terraform Configuration
TF_VAR_environment=production
TF_VAR_project_name=flow
TF_VAR_postgres_password=ðŸ”‘POSTGRES_PASSWORDðŸ”‘

# Additional API Keys and Secrets
TELEGRAM_BOT_TOKEN=ðŸ”‘TELEGRAM_BOT_TOKENðŸ”‘
TELEGRAM_CHAT_ID=ðŸ”‘TELEGRAM_CHAT_IDðŸ”‘
ALERT_EMAIL=ðŸ”‘ALERT_EMAILðŸ”‘

# SSL/TLS Configuration
SSL_CERT_PATH=/etc/ssl/certs/
SSL_KEY_PATH=/etc/ssl/private/
SSL_CA_PATH=/etc/ssl/ca/

# Monitoring Configuration
PROMETHEUS_ENDPOINT=http://prometheus:9090
GRAFANA_ENDPOINT=http://grafana:3000
GRAFANA_API_KEY=ðŸ”‘GRAFANA_API_KEYðŸ”‘